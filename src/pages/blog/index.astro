---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("blog");
---

<Layout title="Blog">
  <style>
    .blog-container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .blog-post {
      padding: 15px;
      margin-bottom: 10px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s;
    }
    .blog-post:hover {
      transform: translateY(-3px);
    }
    .blog-post a {
      text-decoration: none;
      color: #007bff;
      font-weight: bold;
      font-size: 1.2rem;
    }
    .blog-post p {
      color: #666;
      font-size: 0.9rem;
    }
  </style>

  <div class="blog-container">
    <h1>Blog Posts</h1>
    {posts.map(post => (
      <div class="blog-post">
        <a href={`/blog/${post.slug}`}>{post.data.title}</a>
        <p>{new Date(post.data.date).toLocaleDateString()}</p>
      </div>
    ))}
  </div>
</Layout>
